#!/bin/bash

# echo "ğŸ” Retrieving secrets from Bitwarden..."

# Get item data
# ITEM=$(bw get item 6442911c-4c75-42c8-9a8d-b3550148a671) || { echo "âŒ Failed to get Bitwarden item"; exit 1; }

# Parse key=value pairs from notes
# while IFS='=' read -r key value; do
#     [[ -n "$key" && ! "$key" =~ ^[[:space:]]*# && -n "$value" ]] && {
#         export "$(echo "$key" | xargs)"="$(echo "$value" | xargs)"
#     }
# done <<< "$(echo "$ITEM" | jq -r '.notes')"

# Get password from login field
# export LABELER_PASSWORD=$(echo "$ITEM" | jq -r '.login.password')
# [[ -n "$LABELER_PASSWORD" ]] && echo "âœ… LABELER_PASSWORD exported" || { echo "âŒ No LABELER_PASSWORD"; exit 1; }
# [[ -n "$SIGNING_KEY" ]] && echo "âœ… SIGNING_KEY exported" || { echo "âŒ No SIGNING_KEY"; exit 1; }


export LABELER_PASSWORD="my-password"
export SIGNING_KEY="my-signing-key"


